{% extends "pd_monitor/masterpage.html" %}

{% block content %}
{% load static %}

<div id="app">
 <ul>
   <li v-for="x in devices">
   	[[ x.name ]]
   </li>
  </ul>
</div>

<div id="components-app" class="demo">
  <ol>
    <!--
      Now we provide each todo-item with the todo object
      it's representing, so that its content can be dynamic.
      We also need to provide each component with a "key",
      which will be explained later.
    -->
    <todo-item
      v-for="item in groceryList"
      v-bind:todo="item"
      v-bind:key="item.id"
    ></todo-item>
  </ol>
</div>
 
<script type="text/javascript" src="{% static 'index.js' %}"></script>

<br>
{% if device_list %}
		<table class="table table-striped">
			<thead class="thead-dark">
				<tr>
				<th>Name</th>
				<th>Status</th>
				<th>IP</th>
				<th>Current Value</th>
				</tr>
			</thead>
			<tbody> 
			{% for device in device_list %}
				<tr>
				<td>
					<a href="{% url 'pd_monitor:detail' device.id %}">{{ device.name }}</a>
					<small class="text-muted d-block">{{ device.description }}</small>
				</td>
				<td>0</td>
				<td>{{ device.ip }}</td>
				<td>{{ device.value }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	{% else %}
		<p>No devices available.</p>
	{% endif %}
{% endblock %}

{% block redirect %}
<form action="{% url 'pd_monitor:index' %}">
	<input type="submit" value="Refresh"></input>
</form> 
{% endblock %}


<!-- IGNORED SINCE OUTSIDE BLOCK DECLARATION -->
{% if device_list %}
		<table class="table table-striped">
			<thead class="thead-dark">
				<tr>
				<th>Name</th>
				<th>Status</th>
				<th>IP</th>
				<th>Current Value</th>
				</tr>
			</thead>
			<tbody> 
			{% for device in device_list %}
				<tr>
				<td>
					<a href="{% url 'pd_monitor:detail' device.id %}">{{ device.name }}
					<small class="text-muted d-block">{{ device.description }}</small>
				</td>
				<td>0</td>
				<td>{{ device.ip }}</td>
				<td>{{ device.value }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	{% else %}
		<p>No devices available.</p>
	{% endif %}
