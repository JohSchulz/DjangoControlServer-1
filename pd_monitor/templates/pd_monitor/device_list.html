{% extends "pd_monitor/masterpage.html" %}

{% block content %}
{% load static %}

{% if device_list %}
	<table class="table table-striped">
		<thead class="thead-dark">
			<tr>
			<th>Name</th>
			<th>Status</th>
			<th>IP</th>
			<th>Current Value</th>
			</tr>
		</thead>
		<tbody> 
		{% for device in device_list %}
			<tr>
			<td>
				<a href="{% url 'pd_monitor:detail' device.id %}">{{ device.name }}<a/>
				<small class="text-muted d-block">{{ device.description }}</small>
			</td>
			<td>0</td>
			<td>{{ device.ip }}</td>
			<td>{{ device.value }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
{% else %}
	<p>No devices available.</p>
{% endif %}

<script src="{% static 'index.js' %}"></script>
{% endblock %}



{% block redirect %}
<form action="{% url 'pd_monitor:index' %}">
	<button type="submit" class="btn btn-light">Refresh</button>
</form>

<form action="{% url 'pd_monitor:jstest' %}">
	<button type="submit" class="btn btn-primary">JS TEST</button>
</form>

<form action="{% url 'pd_monitor:json' %}">
	<button type="submit" class="btn btn-warning">JSON TEST!</button>
</form> 
{% endblock %}
